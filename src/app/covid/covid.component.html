<div fxLayout="column" style="align-items: center;">
  <div class="mat-h1">California COVID-19 Graphs</div>
  <div *ngIf="!loading" class="mat-h2">From {{ startDate }} to {{ endDate }}</div>
  <div class="mat-h3">I have a hard time finding the graphs I want, so here are my own.
    Data is from  <a href="https://data.chhs.ca.gov/dataset/california-covid-19-hospital-data-and-case-statistics" target="_blank">California Health and Human Open Data Portal</a>
    <!--      <li><a href="https://ourworldindata.org/">Our World in Data</a></li>-->
  </div>
  <div fxLayout="row" *ngIf="loading" >
    <mat-spinner></mat-spinner>
  </div>
</div>
<mat-tab-group *ngIf="!loading">
  <mat-tab label="New Cases">
    <div fxLayout="column" style="align-items: center;">
      <div fxLayout="row wrap"  fxLayoutAlign="center center">
        <app-chhs-graph  [data]="data" [chartType]="CovidChart.StateCasesByDay" title="New confirmed cases by day in California"></app-chhs-graph>
        <app-chhs-graph  [data]="data" [chartType]="CovidChart.CasesByDay" [counties]="['Santa Cruz']" title="New confirmed cases by day in Santa Cruz" ></app-chhs-graph>
      </div>
      <div fxLayout="row wrap"  fxLayoutAlign="center center">
        <app-chhs-graph  [data]="data" [chartType]="CovidChart.CasesByDay"
                         [counties]="['San Francisco', 'Santa Clara', 'Alameda', 'San Mateo', 'Contra Costa', 'Marin', 'Solano', 'Sonoma', 'Napa']"
                         title="Bay Area confirmed cases by Day (Alameda, Contra Costa, Marin, Napa, Santa Clara, San Francisco, Solano, Sonoma)">

        </app-chhs-graph>
        <app-chhs-graph  [data]="data" [chartType]="CovidChart.CasesByDay" [counties]="['Imperial', 'Kern', 'Los Angeles', 'Orange', 'Riverside', 'San Bernardino', 'San Diego', 'Santa Barbara', 'San Luis Obispo', 'Ventura']"
                         title="SoCal confirmed cases by Day ( Imperial, Kern, Los Angeles, Orange, Riverside, San Bernardino, San Diego, Santa Barbara, San Luis Obispo, Ventura)"></app-chhs-graph>
      </div>
      <div fxLayout="row wrap"  fxLayoutAlign="center center">
        <mat-form-field>
          <mat-label>
            Pick a county, any county
          </mat-label>
          <mat-select  [(value)]="county">
            <mat-option *ngFor="let c of counties" value="{{ c }}">
              {{ c }}
            </mat-option>
          </mat-select>
        </mat-form-field>
        <app-chhs-graph [data]="data" [chartType]="CovidChart.CasesByDay" [counties]="[county]" [title]="county + ' confirmed cases by day'"></app-chhs-graph>
      </div>
    </div>
  </mat-tab>
  <mat-tab label="Total Cases">
    <div fxLayout="column" style="align-items: center;">
      <div fxLayout="row"  >
        <app-chhs-horz-bar-graph [data]="data" [popAdjusted]="false"></app-chhs-horz-bar-graph>
      </div>
      <div fxLayout="row" style="flex-grow: 1" >
        <app-chhs-horz-bar-graph [data]="data" [popAdjusted]="true"></app-chhs-horz-bar-graph>
      </div>
    </div>
  </mat-tab>
</mat-tab-group>
